apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: mariadb-operator
labels:
  - pairs:
      app.kubernetes.io/name: mariadb-operator
      app.kubernetes.io/managed-by: argocd
    includeSelectors: true
    includeTemplates: true
commonAnnotations:
  # Deploy CRDs first, before the operator
  argocd.argoproj.io/sync-wave: "-20"
resources:
  - ns.yaml
helmCharts:
  - name: mariadb-operator-crds
    repo: https://helm.mariadb.com/mariadb-operator
    version: 25.10.4
    releaseName: mariadb-operator-crds
    namespace: mariadb-operator
    # CRDs chart only installs CRDs, no operator resources
    includeCRDs: true
